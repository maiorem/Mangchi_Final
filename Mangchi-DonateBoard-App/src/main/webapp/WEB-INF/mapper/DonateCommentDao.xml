<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mangchi.donate.dao.DonateCommentDao">

<resultMap type="com.mangchi.donate.model.Comments" id="resultComm">
	<id property="commIdx" column="comment_idx"/>
	<result property="donateIdx" column="donate_idx"/>
	<result property="commWriter" column="member_nick"/>
	<result property="commText" column="comment_text"/>
	<result property="commRegdate" column="comment_regdate"/>
	<result property="commParent" column="comment_parents"/>
	<result property="commDepth" column="comment_depth"/>
</resultMap>


	<select id="getCommList"
			resultMap="resultComm">
		select * from Mangchi.donate_comment where donate_idx=#{idx} order by comment_idx
	</select>

	<insert id="writeComm"
			parameterType="com.mangchi.donate.model.Comments"
			keyProperty="commIdx">
			
		insert into Mangchi.donate_comment 
		(donate_idx, member_nick, comment_text) values
		(#{donateIdx}, #{commWriter}, #{commText})
	
	</insert>



</mapper>