<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mangchi.subscribe.dao.NotificationDao">

	<resultMap type="com.mangchi.subscribe.model.Notification" id="resultFcm">
		<id property="noticeIdx" column="notice_idx"/>
		<result property="memberNick" column="member_nick"/>		
		<result property="token" column="notice_token"/>
		<result property="keyword" column="notice_keyword"/>
	</resultMap>

	<insert id="insertKeyword"
			parameterType="com.mangchi.subscribe.model.Notification"
			useGeneratedKeys="true"
			keyProperty="noticeIdx">
		insert into Mangchi.donate_notification (member_nick, notice_token, notice_keyword)
		value (#{memberNick}, #{token}, #{keyword})
	</insert>
	
	<select id="selectKeyByMember"
			resultType="String">
		select notice_keyword from Mangchi.donate_notification
		where member_nick=#{memberNick}
	
	</select>
	
	<delete id="deleteKeyword">
		delete from Mangchi.donate_notification where notice_idx=#{noticeIdx}
	</delete>
	

</mapper>